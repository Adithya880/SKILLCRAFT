<!DOCTYPE html>
<html lang="en">
<head>
  <title>Stopwatch</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="stopwatch.css">
  
</head>
<body>
    <div class="head">
      <h1 class="heading">Stopwatch</h1>
      <h1 id="time">
        <a id="hrs"></a>
        :
        <a id="mins"></a>
        :
        <a id="secs"></a>
      </h1>
      <div id="buttons">
        <button onclick="reset()" class="multi hidden">reset</button>
        <button onclick="time()" id="start">start</button>
        <button onclick="pause()" id="pause" class="multi hidden">pause</button>
        <button onclick="laps()" class="multi hidden">laps</button>
      </div>
      <br><br>
      <div id="lapsContainer" style="display: none;">
  <div class="lap-header d-flex justify-content-between fw-bold px-2">
    <span>Lap</span>
    <span>Lap Time</span>
    <span>Overall Time</span>
  </div>
  <ol id="laps" class="lap-list mt-2"></ol>
</div>
      
    </div>

    <script>
      let second=0,hour=0,minute=0,timer;
      let hrs=document.getElementById("hrs");
      let mins=document.getElementById("mins");
      let secs=document.getElementById("secs");
      secs.innerHTML="00";
      hrs.innerHTML="00";
      mins.innerHTML="00";
      let isRunning=true;
      function time(){
        isRunning = true;
        document.getElementById("start").style.display = "none";
        document.querySelectorAll(".multi").forEach(btn => {
          btn.classList.remove("hidden");
        });
        timer = setInterval(() => {
          secs.innerHTML=String(second).padStart(2, '0');
          second++;
          if(second===60){
              second=0;
              minute++;
              mins.innerHTML=String(minute).padStart(2, '0');
              if(minute===60){
                    minute=0;
                    hour++;
                    hrs.innerHTML=String(hour).padStart(2, '0');
              }
            }
        }, 1000);
        
        
      }

      function pause(){
         if (isRunning) {
    clearInterval(timer);
    isRunning = false;
    document.getElementById("pause").innerText = "resume";
  } else {
    time(); // restart timer
    document.getElementById("pause").innerText = "pause";
  }
}
let lapCount = 0;
let lastLapTime = 0;

function getTotalSeconds() {
  return hour * 3600 + minute * 60 + second;
}

function formatTime(totalSec) {
  const h = String(Math.floor(totalSec / 3600)).padStart(2, '0');
  const m = String(Math.floor((totalSec % 3600) / 60)).padStart(2, '0');
  const s = String(totalSec % 60).padStart(2, '0');
  return `${h} : ${m} : ${s}`;
}

function laps() {
  document.getElementById("lapsContainer").style.display = "block";

  // your existing code to calculate lapCount, time, etc.
  lapCount++;
  const currentTotal = getTotalSeconds();
  const lapTime = formatTime(currentTotal - lastLapTime);
  const overallTime = formatTime(currentTotal);
  lastLapTime = currentTotal;

  const li = document.createElement("li");
  li.innerHTML = `
  <span>${lapCount}</span>
    <span>${lapTime}</span>
    <span>${overallTime}</span>
  `;
  document.getElementById("laps").appendChild(li);
}

      function reset(){
        clearInterval(timer);
        secs.innerHTML="00";
      hrs.innerHTML="00";
      mins.innerHTML="00";
      second=0,hour=0,minute=0;
      document.getElementById("laps").innerHTML = "";
      document.getElementById("start").style.display="inline";
      document.querySelectorAll(".multi").forEach(btn => {
          btn.classList.add("hidden");
        });
      }

      
    </script>
</body>

</html>